{% load static %}{% load rest_framework %}{% load common_function %}
<html>
<head>
{% include "includes/css_file.html" %}
</head>
<body class="theme-red">
{% include "includes/index.html" %}




<section class="content">
        <div class="container-fluid">
            <div class="block-header">
                <h2>USER</h2>
            </div>
            <!-- Basic Table -->
            <div class="row clearfix">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="card">
                        <div class="header">
                            <h2>
                                User List
                            </h2>
                            <ul class="header-dropdown m-r--5">
                                <a href="/printerapp/user/user_create"><i class="material-icons">add</i></a>
                            </ul>
                        </div>
                        <div class="body table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>No</th>
                                        <th>User Name</th>
                                        <th>Role</th>                                         
                                                
                                        <th>Action</th>                                       
                                    </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    {% for lists_val in data %}
                                    
                                    <td>{{forloop.counter}}</td>
                                    <td>{{lists_val.username}}</td>
                                    <td>
                                        {%if lists_val.is_superuser == 1%}Super User{%endif%}
                                        {%if lists_val.is_superuser != 1%}        
                                        {% show_single_field_role tableName="printerapp_profile" show_field_name="role_id" user=lists_val.id as role_name %} 
                                        {% show_single_field tableName="printerapp_role" show_field_name="name" pk=role_name as rolename %} {{rolename}}
                                        {%endif%}                                                                                                  
                                    </td>
                                                
                                    <td><div class="btn-group dropright">
                                        <button type="button" class="btn btn-default waves-effect dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu">
                                        {%if lists_val.is_superuser != 1%} <li><a href="/printerapp/user/user_update/{{ lists_val.id }}"><i class="material-icons">create</i></a></li>
                                        <li><a href="/printerapp/user/user_delete/{{ lists_val.id }}"><i class="material-icons">delete</i></a></li>
                                        {%endif%}                                                                                  
                                        <li><a href="/printerapp/user/user_view/{{ lists_val.id }}"><i class="material-icons">visibility</i></a><li>
                                        </ul>
                                        </div>
                                    </td>
                                   

                                </tr>
                                {% endfor %}
                                <tr style="border: 0"><td></td><td></td><td></td><td></td></tr>
                                
                                </tbody>
                            </table>
                        </div>
                    </div>

{% if data.has_other_pages %}
                                 <div>
                                    <div class="">
                                        <ul class="pagination">
                                            {% if data.has_previous %}

                                            <li class="paginate_button previous"  tabindex="0" >
                                                <a href="?page={{ data.previous_page_number }}">Previous</a>
                                            </li>
                                            {% else %}
                                              <li class="paginate_button previous disabled"  tabindex="0" >
                                                <a href="#">Previous</a>
                                            </li>
                                             {% endif %}

                                             {% for i in data.paginator.page_range %}
                                             {% if data.number == i %}
                                            <li class="paginate_button active"  tabindex="0">
                                                <a href="?page={{ i }}">{{ i }}</a>
                                            </li> {% else %}
                                            <li class="paginate_button "  tabindex="0">
                                                <a href="?page={{ i }}">{{ i }}</a>
                                            </li>{% endif %}
                                            {% endfor %}
                                            {% if data.has_next %}
                                            <li class="paginate_button next"  tabindex="0" id="datatable_next">
                                                    <a href="?page={{ lists.next_page_number }}">Next</a>
                                            {% else %}
                                            <li class="paginate_button next disabled"  tabindex="0">
                                                    <a href="#">Next</a>
                                            {% endif %}         
                                            </li>
                                            </ul>
                                        </div>
                                    </div>
                                {% endif %}  



                    
                </div>
            </div>
</div>
</section>                     
{% include "includes/file_js.html" %}
 
   
</body>

</html>